# тЪая╕П **р╕Хр╣Йр╕нр╕Зр╕гр╕▒р╕Щ SQL Script р╕Бр╣Ир╕нр╕Щ!**

## **тЭМ р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ъ:**
```
р╕Бр╕Ф "р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х" р╣Бр╕ер╣Йр╕з р╣Бр╕Хр╣Ир╕кр╕Цр╕▓р╕Щр╕░р╕вр╕▒р╕Зр╣Бр╕кр╕Фр╕З "р╕зр╣Ир╕▓р╕З"
```

## **тЬЕ р╕кр╕▓р╣Ар╕лр╕Хр╕╕:**

### **ЁЯФН р╕Чр╕│р╣Др╕бр╕Цр╕╢р╕Зр╣Ар╕Ыр╣Зр╕Щр╣Бр╕Ър╕Ър╕Щр╕╡р╣Й:**
- р╕Хр╕▓р╕гр╕▓р╕З `owners` р╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е **р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М `owner_occupies`**
- р╕Чр╕│р╣Гр╕лр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕е `owner_occupies` **р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б** р╣Ар╕бр╕╖р╣Ир╕нр╕Бр╕Фр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х
- р╕гр╕░р╕Ър╕Ър╕Ир╕╢р╕Зр╣Др╕бр╣Ир╕гр╕╣р╣Йр╕зр╣Ир╕▓р╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╕Юр╕▒р╕Бр╣Ар╕нр╕З
- р╕кр╕Цр╕▓р╕Щр╕░р╕Ир╕╢р╕Зр╣Бр╕кр╕Фр╕З "р╕зр╣Ир╕▓р╕З" р╕нр╕вр╕╣р╣Ир╣Ар╕кр╕бр╕н

---

## **ЁЯЪА р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В:**

### **Step 1: р╕гр╕▒р╕Щ SQL Script**
1. р╣Ар╕Ыр╕┤р╕Ф **Supabase Dashboard**
2. р╣Др╕Ыр╕Чр╕╡р╣И **SQL Editor**
3. р╕Др╕▒р╕Фр╕ер╕нр╕Бр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М `scripts/145_add_owner_occupies_field.sql`
4. р╕зр╕▓р╕Зр╕ер╕Зр╣Гр╕Щ SQL Editor
5. р╕Др╕ер╕┤р╕Б **Run** р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕▒р╕Щ script

### **Step 2: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М**
Script р╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Бр╕▓р╕г verify:
- Column verification - р╕Др╕нр╕ер╕▒р╕бр╕Щр╣М `owner_occupies` р╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з
- Index verification - Index р╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з

### **Step 3: р╕Чр╕Фр╕кр╕нр╕Ър╣Гр╕лр╕бр╣И**
1. р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ (F5)
2. р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕лр╣Йр╕нр╕Зр╕Кр╕╕р╕Ф
3. р╕Др╕ер╕┤р╕Б "р╣Бр╕Бр╣Йр╣Др╕Вр╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕З"
4. р╣Ар╕Кр╣Зр╕Д "р╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╕Юр╕▒р╕Бр╣Ар╕нр╕З (р╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Гр╕лр╣Йр╣Ар╕Кр╣Ир╕▓)"
5. р╕Бр╕Ф "р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х"
6. **р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕зр╕гр╕Ир╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щ "р╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╕нр╕вр╕╣р╣Ир╣Ар╕нр╕З"**

---

## **ЁЯУЛ Checklist:**

### **тЬЕ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Чр╕│:**
- [ ] р╕гр╕▒р╕Щ SQL script `scripts/145_add_owner_occupies_field.sql`
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ column р╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з
- [ ] р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕Фр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З

### **ЁЯФН р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ SQL р╕гр╕▒р╕Щр╕кр╕│р╣Ар╕гр╣Зр╕И:**
```sql
-- р╣Ар╕Кр╣Зр╕Др╕зр╣Ир╕▓ column р╕бр╕╡р╕нр╕вр╕╣р╣Ир╕Ир╕гр╕┤р╕З
SELECT column_name, data_type, column_default
FROM information_schema.columns
WHERE table_schema = 'public'
  AND table_name = 'owners'
  AND column_name = 'owner_occupies';
```

---

## **ЁЯОп Flow р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**

### **р╕Бр╣Ир╕нр╕Щр╕гр╕▒р╕Щ SQL:**
```
1. р╕Бр╕Ф "р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х" тЖТ р╕кр╣Ир╕З owner_occupies = true
2. Database р╣Др╕бр╣Ир╕бр╕╡ column owner_occupies
3. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
4. р╕кр╕Цр╕▓р╕Щр╕░р╣Бр╕кр╕Фр╕З "р╕зр╣Ир╕▓р╕З" тЭМ
```

### **р╕лр╕ер╕▒р╕Зр╕гр╕▒р╕Щ SQL:**
```
1. р╕Бр╕Ф "р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х" тЖТ р╕кр╣Ир╕З owner_occupies = true
2. Database р╕бр╕╡ column owner_occupies
3. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Цр╕╣р╕Бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б тЬЕ
4. р╕кр╕Цр╕▓р╕Щр╕░р╣Бр╕кр╕Фр╕З "р╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╕нр╕вр╕╣р╣Ир╣Ар╕нр╕З" тЬЕ
```

---

## **ЁЯУЮ р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓:**

1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ SQL Script:** р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ error р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console:** р╕Фр╕╣ console log р╣Гр╕Щ browser
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network:** р╕Фр╕╣ request р╕Чр╕╡р╣Ир╕кр╣Ир╕Зр╣Др╕Ыр╕вр╕▒р╕З backend
4. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Database:** р╣Ар╕Кр╣Зр╕Др╕зр╣Ир╕▓ column р╕бр╕╡р╕нр╕вр╕╣р╣Ир╕Ир╕гр╕┤р╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И

---

**ЁЯОп р╕гр╕▒р╕Щ SQL Script р╕Бр╣Ир╕нр╕Щ р╣Бр╕ер╣Йр╕зр╕ер╕нр╕Зр╕Бр╕Фр╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З!** ЁЯЪА
